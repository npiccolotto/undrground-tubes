# UnDRground Tubes

This is the repository of **UnDRground Tubes**, a visualization technique combining ideas from set visualization and multidimensional projections. The technique is covered in two papers:

1. Nikolaus Piccolotto, Markus Wallinger, Silvia Miksch, and Markus Bögl: _UnDRground Tubes: Exploring Spatial Data With Multidimensional Projections and Set Visualization_. To appear in IEEE Transactions on Visualization and Computer Graphics. [preprint](https://osf.io/zgphx)
2. Nikolaus Piccolotto, Markus Wallinger, Silvia Miksch, and Markus Bögl: _On Combined Visual Cluster and Set Analysis_. To appear in IEEE VIS 2024 Short Paper Proceedings. [preprint](https://osf.io/zx9s6)

Please use paper 1 to cite the technique itself.

## Installation

Requires Python 3.10.

* Needs `pyenv`
* Needs everything in `requirements.txt`. Install with `python -m pip install -r requirements.txt`
* Needs [Gurobi 11](https://www.gurobi.com/)
* Needs [LOOM](https://github.com/ad-freiburg/loom) and LOOM needs to be in your PATH variable.

## Usage

`python render2.py`

The result will be written as `drawing_{layer}.svg`, usually `drawing_0.svg`. For available options, see `python render2.py --help`. The defaults and additional configuration options can be changed in the `config.ini` file.

## Datasets

The required data is expected to be provided in a JSON file. The schema of the JSON file is available in `schema.json` as [JSON Schema](https://json-schema.org/). The **glyphs** are expected to be images and the path to them provided in that JSON file. See `data/imdb/imdb10` for an example.

## Folders and files in this Repository

Images are generally not in version control and have to be generated by running the appropriate R/Jupyter notebooks.

* `data` holds several example datasets, e.g., IMDb movies, the Viennese tram and metro network, a synthetic example, R's `mtcars` dataset, and the SBSS example used in the paper. Note that some example datasets require additional steps before they work. Most notably regarding their glyphs, which we did not want to add to the git repository.
* `designspace-result` holds the results of for our computational experiments, both raw data (`comp_data.csv`) and a Jupyter notebook (`merge.ipynb`) interpreting them.
* `designspace-test` holds the instances generated for the computational experiments.
* `eval` has files relevant for the controlled experiment: Survey, responses, stimuli, datasets, etc.
* `figures` has some figures used in the long paper.
* `static`, `templates` are required by the Web frontend described in Section 4 of the paper. Use `frontend.py` to start it, but it won't have glyphs unless you generated them with the R file.
* `tests`, `util` and `render2.py` are the implementation of UnDRground Tubes.

The shell scripts `{start_tasks, run}[_surveygen].sh` can be ignored unless you plan to use TU Wien's compute cluster.

# License

GPL v3 https://choosealicense.com/licenses/gpl-3.0/
